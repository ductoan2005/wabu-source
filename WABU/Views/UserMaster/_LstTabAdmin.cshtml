@model FW.ViewModels.UserMasterVM

@{
    var listUserAdmin = ViewBag.listUserAdmin;
    var pagingUserAdmin = ViewBag.pagingUserAdmin;

    string jsonDataUserAdmin = "{}";
    if (pagingUserAdmin != null)
    {
        ViewData["CurrentPageAdmin"] = pagingUserAdmin.CurrentPage;
        ViewData["ItemsPerPageAdmin"] = pagingUserAdmin.ItemsPerPage;
        ViewData["TotalItemsAdmin"] = pagingUserAdmin.TotalItems;
    }
    else
    {
        ViewData["CurrentPageAdmin"] = 0;
        ViewData["ItemsPerPageAdmin"] = 1;
        ViewData["TotalItemsAdmin"] = 0;
    }
}

<div class="full-height-scroll">
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <tbody>
                @if (listUserAdmin != null)
                {
                    int i = 0;
                    Dictionary<string, Object> dicUA = new Dictionary<string, object>();
                    foreach (var item in listUserAdmin)
                    {
                        string keyUA = "keyUA_" + ++i + "_" + pagingUserAdmin.CurrentPage * pagingUserAdmin.ItemsPerPage;
                        dicUA.Add(keyUA, item);

                        <tr id="@keyUA">
                            <td class="client-avatar"><a onclick="userMaster.displayAccountDetail(event, '@item.Id')"><img alt="image" src="@item.AvatarPath"></a></td>
                            <td><a data-toggle="tab" onclick="userMaster.displayAccountDetail(event, '@item.Id')" class="client-link">@item.FullName</a></td>
                            <td class="contact-type"><i class="fa fa-user"></i></td>
                            <td>@item.UserName</td>
                            @if (@item.IsActive == true)
                            {
                                <td class="client-status"><span class="label label-primary">hoạt động</span></td>
                            }
                            else
                            {
                                <td class="client-status"><span class="label label-danger">tạm ngưng</span></td>
                            }
                            <td><a href="#" onclick="userMaster.deleteUser('@keyUA');"><i class="fa fa-times text-danger font_20"></i></a></td>
                        </tr>

                        jsonDataUserAdmin = Newtonsoft.Json.JsonConvert.SerializeObject(dicUA);
                    }
                }
            </tbody>
        </table>
        @Html.Partial("_PagingTabAdmin")
    </div>
</div>

<script>
    var jsonDataUserAdminJS = @Html.Raw(jsonDataUserAdmin);
</script>