@model FW.ViewModels.UserMasterVM

@{


    var listUserContractors = ViewBag.listUserContractors;
    var pagingUserContractors = ViewBag.pagingUserContractors;

    string jsonDataUserContractors = "{}";
    if (pagingUserContractors != null)
    {
        ViewData["CurrentPageContractors"] = pagingUserContractors.CurrentPage;
        ViewData["ItemsPerPageContractors"] = pagingUserContractors.ItemsPerPage;
        ViewData["TotalItemsContractors"] = pagingUserContractors.TotalItems;
    }
    else
    {
        ViewData["CurrentPageContractors"] = 0;
        ViewData["ItemsPerPageContractors"] = 1;
        ViewData["TotalItemsContractors"] = 0;
    }
}

<div class="full-height-scroll">
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <tbody>
                @if (listUserContractors != null)
                {
                    int i = 0;
                    Dictionary<string, Object> dicUC = new Dictionary<string, object>();
                    foreach (var item in listUserContractors)
                    {
                        string keyUC = "keyUC_" + ++i + "_" + pagingUserContractors.CurrentPage * pagingUserContractors.ItemsPerPage;
                        dicUC.Add(keyUC, item);

                        <tr id="@keyUC">
                            <td class="client-avatar"><a onclick="userMaster.displayAccountDetail(event, '@item.Id')"><img alt="image" src="~/@item.AvatarPath"></a></td>
                            <td><a data-toggle="tab" onclick="userMaster.displayAccountDetail(event, '@item.Id')" class="client-link">@item.FullName</a></td>
                            <td class="contact-type"><i class="fa fa-user"></i></td>
                            <td>@item.UserName</td>
                            <td class="contact-type"><i class="fa fa-wrench"></i></td>
                            <td>@item.Authority</td>
                            @if (@item.IsActive == true)
                            {
                                <td class="client-status"><span class="label label-primary">hoạt động</span></td>
                            }
                            else
                            {
                                <td class="client-status"><span class="label label-danger">tạm ngưng</span></td>
                            }

                            <td><a href="#" onclick="userMaster.deleteUser('@keyUC');"><i class="fa fa-times text-danger font_20"></i></a></td>
                        </tr>

                        jsonDataUserContractors = Newtonsoft.Json.JsonConvert.SerializeObject(dicUC);
                    }
                }
            </tbody>
        </table>
        @Html.Partial("_PagingTabContractors")
    </div>
</div>

<script>
    var jsonDataUserContractorsJS = @Html.Raw(jsonDataUserContractors);
</script>